import{N as p,G as h,u as y,r as d,q as w,c as s,o,a as e,t as u,j as _,i as k}from"./Z3C1zjOC.js";import{u as C}from"./DPZQ8nY_.js";const V={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900"},z={class:"max-w-md w-full mx-4"},T={class:"bg-white rounded-2xl shadow-2xl p-8"},B={class:"text-center mb-8"},M={class:"w-16 h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4"},N={key:0,class:"w-8 h-8 text-white animate-spin",fill:"currentColor",viewBox:"0 0 20 20"},S={key:1,class:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20"},E={key:2,class:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20"},j={class:"text-2xl font-bold text-gray-900 mb-2"},I={class:"text-gray-600"},A={class:"text-center mb-8"},H={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},L={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-6"},R={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-6"},Y={class:"text-gray-600 text-sm leading-relaxed"},q={class:"space-y-4"},D={key:1,class:"space-y-3"},F={__name:"[token]",setup(G){const g=p(),l=h(),m=y(),{toast:c}=C(),x=g.params.token,r=d(!0),a=d(!1),i=d("");w(async()=>{var n,t;try{await m.verifyAccount(x),a.value=!0,c.success("¡Cuenta verificada exitosamente! Ya puedes iniciar sesión."),setTimeout(()=>{l.push("/auth/login")},3e3)}catch(f){console.error("Error verificando cuenta:",f),a.value=!1,i.value=((t=(n=f.response)==null?void 0:n.data)==null?void 0:t.msg)||"Error al verificar la cuenta. El enlace puede haber expirado.",c.error(i.value)}finally{r.value=!1}});const v=()=>{l.push("/auth/login")},b=()=>{l.push("/auth/register")};return(n,t)=>(o(),s("div",V,[e("div",z,[e("div",T,[e("div",B,[e("div",M,[r.value?(o(),s("svg",N,t[0]||(t[0]=[e("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"},null,-1)]))):a.value?(o(),s("svg",S,t[1]||(t[1]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):(o(),s("svg",E,t[2]||(t[2]=[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)])))]),e("h1",j,u(r.value?"Verificando cuenta...":a.value?"¡Cuenta verificada!":"Error de verificación"),1),e("p",I,u(r.value?"Procesando tu verificación":a.value?"Tu cuenta ha sido verificada exitosamente":"No se pudo verificar tu cuenta"),1)]),e("div",A,[r.value?(o(),s("div",H,t[3]||(t[3]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"},null,-1),e("p",{class:"text-gray-600 text-sm"},"Verificando tu cuenta, por favor espera...",-1)]))):a.value?(o(),s("div",L,t[4]||(t[4]=[_('<div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 mb-2">¡Verificación exitosa!</h3><p class="text-gray-600 text-sm leading-relaxed"> Tu cuenta ha sido verificada correctamente. Ya puedes iniciar sesión y acceder a todas las funcionalidades de Vivantia IoT Solutions. </p>',3)]))):(o(),s("div",R,[t[5]||(t[5]=e("div",{class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),t[6]||(t[6]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Error de verificación",-1)),e("p",Y,u(i.value),1)]))]),e("div",q,[a.value?(o(),s("button",{key:0,onClick:v,class:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-green-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 shadow-lg"}," Ir al inicio de sesión ")):r.value?k("",!0):(o(),s("div",D,[e("button",{onClick:v,class:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 shadow-lg"}," Ir al inicio de sesión "),e("button",{onClick:b,class:"w-full bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-600 transition-all duration-200 transform hover:scale-105 shadow-lg"}," Crear nueva cuenta ")]))]),t[7]||(t[7]=e("div",{class:"mt-6 text-center"},[e("p",{class:"text-xs text-gray-500"}," ¿Necesitas ayuda? Contacta con nuestro soporte técnico. ")],-1))]),t[8]||(t[8]=e("div",{class:"text-center mt-8"},[e("p",{class:"text-sm text-gray-400"}," © 2024 Vivantia IoT Solutions. Todos los derechos reservados. ")],-1))])]))}};export{F as default};
