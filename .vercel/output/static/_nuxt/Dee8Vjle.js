import{_ as w,u as M,c as n,o as a,a as e,t as f,k as u,d as D,f as I,p as A,A as _,w as N,B as $,m as V,b as d,T as h,U as T,F as U,x as P,i as k,r as j,q as R,y as F,K as H}from"./Z3C1zjOC.js";import{_ as z}from"./YHwIe9Gn.js";import{g as S}from"./DYYJ9xn1.js";import{l as q}from"./ChUD3v8M.js";const W={class:"bg-dark-header text-white shadow-lg border-b border-gray-700"},G={class:"flex items-center justify-between px-6 py-4"},O={class:"flex items-center space-x-3"},K={class:"flex items-center space-x-3"},J={class:"hidden sm:block"},Q={class:"text-xl font-bold text-white"},X={class:"text-xs text-gray-400"},Y={class:"flex items-center space-x-4"},Z={key:0,class:"flex items-center space-x-3"},ee={class:"hidden sm:block text-right"},te={class:"text-sm font-medium text-white"},se={class:"text-xs text-gray-300"},oe={class:"text-white font-semibold text-sm"},ae={key:1,class:"flex items-center space-x-3"},ie={key:2,class:"flex items-center space-x-2"},re={__name:"Header",emits:["toggle-sidebar"],setup(v){const s=M(),t=()=>{I("/perfil")},o=()=>{s.exitDemoMode(),I("/auth/login")};return(r,i)=>(a(),n("header",W,[e("div",G,[e("div",O,[e("button",{onClick:i[0]||(i[0]=c=>r.$emit("toggle-sidebar")),class:"p-2 rounded-md hover:bg-gray-600 transition-colors lg:hidden"},i[1]||(i[1]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),e("div",K,[i[2]||(i[2]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})])],-1)),e("div",J,[e("h1",Q,f(u(s).isAdmin?"PANEL DE ADMINISTRACIÓN":u(s).isDemoMode?"VISTA PREVIA - VIVANTIA":"Optimiza cada gota, maximiza cada cosecha"),1),e("p",X,f(u(s).isAdmin?"Centro de Control":u(s).isDemoMode?"Modo Demo":"Automatización de riego inteligente"),1)])])]),e("div",Y,[u(s).isAuthenticated&&!u(s).isDemoMode?(a(),n("div",Z,[e("div",ee,[e("p",te," ¡Bienvenido "+f(u(s).userName)+" a Vivantia! ",1),e("p",se,f(u(s).userEmail),1)]),e("button",{onClick:t,class:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg",title:"Ir a mi perfil"},[e("span",oe,f(u(s).userName.charAt(0).toUpperCase()),1)])])):u(s).isDemoMode?(a(),n("div",ae,[i[4]||(i[4]=e("div",{class:"hidden sm:block text-right"},[e("p",{class:"text-sm font-medium text-orange-300"}," Vista Previa - Modo Demo "),e("p",{class:"text-xs text-gray-300"},"Funcionalidades limitadas")],-1)),e("button",{onClick:o,class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-medium rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg",title:"Iniciar sesión"},i[3]||(i[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),D(" Iniciar Sesión ")]))])):(a(),n("div",ie))])])]))}},ne=w(re,[["__scopeId","data-v-5aa61b0b"]]),le={class:"truncate"},de={__name:"SidebarItem",props:{icon:{type:String,required:!0},label:{type:String,required:!0},to:{type:String,required:!0},active:{type:Boolean,default:!1}},setup(v){const s=v,t=A(()=>S(s.icon));return(o,r)=>{const i=z;return a(),_(i,{to:v.to,class:V(["flex items-center px-4 py-3 mx-2 text-sm font-medium transition-all duration-200 rounded-lg group",[v.active?"bg-white/20 text-white shadow-lg backdrop-blur-sm border border-white/30":"text-blue-100 hover:bg-white/10 hover:text-white"]])},{default:N(()=>[(a(),_($(t.value),{class:"w-5 h-5 mr-3 flex-shrink-0"})),e("span",le,f(v.label),1)]),_:1},8,["to","class"])}}},g=w(de,[["__scopeId","data-v-259bf889"]]),ce={class:"bg-gradient-blue-dark h-full rounded-lg shadow-xl overflow-hidden"},ue={class:"p-6 border-b border-blue-500/20"},me={class:"flex items-center space-x-3"},pe={class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm overflow-hidden"},ve=["src"],he={class:"px-3"},ge={key:0,class:"space-y-2"},fe={key:1,class:"space-y-2"},be={__name:"Sidebar",setup(v){const s=M();return(t,o)=>(a(),n("aside",ce,[e("div",ue,[e("div",me,[e("div",pe,[e("img",{src:u(q),alt:"Vivantia Logo",class:"w-10 h-10 object-contain rounded-full"},null,8,ve)]),o[0]||(o[0]=e("div",null,[e("h2",{class:"text-white font-bold text-lg"},"VIVANTIA"),e("p",{class:"text-blue-200 text-xs"},"IoT Solutions")],-1))])]),o[1]||(o[1]=e("div",{class:"px-6 py-4"},[e("div",{class:"h-px bg-gradient-to-r from-transparent via-blue-300/30 to-transparent"})],-1)),e("nav",he,[u(s).isAdmin?(a(),n("div",fe,[d(g,{icon:"users",label:"Gestión de Usuarios",to:"/admin/usuarios",active:(t._.provides[h]||t.$route).path==="/admin/usuarios"},null,8,["active"]),d(g,{icon:"plant",label:"Gestión de Cultivos",to:"/admin/cultivos",active:(t._.provides[h]||t.$route).path==="/admin/cultivos"},null,8,["active"]),d(g,{icon:"devices",label:"Gestión de Dispositivos",to:"/admin/dispositivos",active:(t._.provides[h]||t.$route).path==="/admin/dispositivos"},null,8,["active"]),d(g,{icon:"logs",label:"Logs del Sistema",to:"/admin/logs",active:(t._.provides[h]||t.$route).path==="/admin/logs"},null,8,["active"])])):(a(),n("div",ge,[d(g,{icon:"dashboard",label:"Dashboard",to:"/dashboard",active:(t._.provides[h]||t.$route).path==="/dashboard"},null,8,["active"]),d(g,{icon:"devices",label:"Dispositivos",to:"/dispositivos",active:(t._.provides[h]||t.$route).path==="/dispositivos"},null,8,["active"]),d(g,{icon:"plant",label:"Cultivos",to:"/cultivos",active:(t._.provides[h]||t.$route).path.startsWith("/cultivos")},null,8,["active"]),d(g,{icon:"watering",label:"Modos de Riego",to:"/modo",active:(t._.provides[h]||t.$route).path.startsWith("/modo")},null,8,["active"]),d(g,{icon:"alerts",label:"Alertas",to:"/alertas",active:(t._.provides[h]||t.$route).path==="/alertas"},null,8,["active"])]))])]))}},xe=w(be,[["__scopeId","data-v-28a3017e"]]),_e={class:"bg-dark-footer text-gray-300 py-3 border-t border-gray-700"},we={class:"container mx-auto px-6"},ye={class:"flex flex-col md:flex-row justify-between items-center"},ke={class:"flex items-center space-x-4 text-xs text-gray-400"},$e={__name:"Footer",setup(v){const s=A(()=>new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}));return(t,o)=>(a(),n("footer",_e,[e("div",we,[e("div",ye,[o[4]||(o[4]=e("div",{class:"mb-2 md:mb-0"},[e("p",{class:"text-xs"},[D(" Desarrollado por "),e("span",{class:"font-semibold text-white"},"Miguel Ángel Corredor Ferrer (i12cofem@uco.es)"),e("span",{class:"text-gray-500 ml-2"},"| 2025 Agronomía Inteligente")])],-1)),e("div",ke,[o[0]||(o[0]=e("span",null,"v1.0.0",-1)),o[1]||(o[1]=e("span",null,"|",-1)),o[2]||(o[2]=e("span",null,"Vue 3 + Nuxt 3",-1)),o[3]||(o[3]=e("span",null,"|",-1)),e("span",null,f(s.value),1)])])])]))}},Se=w($e,[["__scopeId","data-v-52e197a6"]]),Ae={class:"flex items-center space-x-2 text-sm","aria-label":"Breadcrumb"},Ce={class:"flex items-center space-x-2"},Ie={key:0,class:"w-4 h-4 text-gray-500 mx-2",fill:"currentColor",viewBox:"0 0 20 20"},Me={class:"flex items-center"},De={key:1,class:"flex items-center space-x-1 text-white font-medium"},Ne={__name:"Breadcrumb",setup(v){const s=T(),t=A(()=>{const o=[],r=s.path.split("/").filter(m=>m),i={dashboard:"Dashboard",dispositivos:"Dispositivos",devices:"Dispositivos",cultivos:"Cultivos",crops:"Cultivos",modo:"Modos de Riego",modos:"Modos de Riego",automatico:"Modo Automático",manual:"Modo Manual",programado:"Modo Programado",alertas:"Alertas",alerts:"Alertas",perfil:"Perfil",profile:"Perfil",admin:"Administración",usuarios:"Usuarios",users:"Usuarios",agregar:"Agregar",add:"Agregar",editar:"Editar",edit:"Editar",ver:"Ver",view:"Ver",analytics:"Analytics",widgets:"Widgets",settings:"Configuración"},c={dashboard:"home",dispositivos:"device",devices:"device",cultivos:"plant",crops:"plant",modo:"watering",modos:"watering",automatico:"automatic",manual:"manual",programado:"programmed",alertas:"warning",alerts:"warning",perfil:"user",profile:"user",admin:"dashboard",usuarios:"user",users:"user",agregar:"edit",add:"edit",editar:"edit",edit:"edit",ver:"home",view:"home",analytics:"dashboard",widgets:"dashboard",settings:"dashboard"};let x="";for(let m=0;m<r.length;m++){const p=r[m];x+=`/${p}`;const B=m<r.length-1;let b=i[p]||p.charAt(0).toUpperCase()+p.slice(1);if(!isNaN(p)&&m>0){const l=r[m-1];l==="editar"||l==="edit"?b="Editar Cultivo":l==="ver"||l==="view"?b="Ver Cultivo":l==="usuarios"||l==="users"?b="Editar Usuario":l==="dispositivos"||l==="devices"?b="Editar Dispositivo":b="Detalles"}let y=c[p]||"home";if(!isNaN(p)&&m>0){const l=r[m-1];l==="editar"||l==="edit"?y="edit":l==="ver"||l==="view"?y="home":y="edit"}const C=r[m+1],E=p==="editar"||p==="edit"||p==="ver"||p==="view",L=C&&!isNaN(C);E&&L||o.push({label:b,to:x,icon:S(y),clickable:B})}return o.length===0&&o.push({label:"Dashboard",to:"/dashboard",icon:S("home"),clickable:!1}),o});return(o,r)=>{const i=z;return a(),n("nav",Ae,[e("ol",Ce,[(a(!0),n(U,null,P(t.value,(c,x)=>(a(),n("li",{key:x,class:"flex items-center"},[x>0?(a(),n("svg",Ie,r[0]||(r[0]=[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]))):k("",!0),e("div",Me,[c.clickable?(a(),_(i,{key:0,to:c.to,class:"flex items-center space-x-1 transition-colors duration-200 text-gray-400 hover:text-white cursor-pointer"},{default:N(()=>[c.icon?(a(),_($(c.icon),{key:0,class:"w-4 h-4 flex-shrink-0"})):k("",!0),e("span",null,f(c.label),1)]),_:2},1032,["to"])):(a(),n("span",De,[c.icon?(a(),_($(c.icon),{key:0,class:"w-4 h-4 flex-shrink-0"})):k("",!0),e("span",null,f(c.label),1)]))])]))),128))])])}}},Ve=w(Ne,[["__scopeId","data-v-04cf378d"]]),ze={class:"min-h-screen bg-dark-secondary"},Be={class:"flex pt-16 pb-10"},Ee={class:"flex-1 lg:ml-72 ml-4 mr-4 overflow-x-hidden"},Le={class:"bg-dark-secondary rounded-lg shadow-lg min-h-[calc(100vh-8rem)] p-6"},Re={__name:"default",setup(v){const s=j(!1),t=()=>{s.value=!s.value},o=()=>{s.value=!1},r=()=>{window.innerWidth>=1024&&(s.value=!1)};return R(()=>{window.addEventListener("resize",r)}),F(()=>{window.removeEventListener("resize",r)}),(i,c)=>(a(),n("div",ze,[d(ne,{onToggleSidebar:t,class:"fixed top-0 left-0 right-0 z-40"}),e("div",Be,[e("div",{class:V(["fixed left-4 top-24 bottom-16 z-50 w-64 transform transition-transform duration-300 ease-in-out lg:translate-x-0",s.value?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[d(xe)],2),s.value?(a(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:o})):k("",!0),e("main",Ee,[e("div",Le,[d(Ve,{class:"mb-6"}),H(i.$slots,"default")])])]),d(Se,{class:"fixed bottom-0 left-0 right-0 z-40"})]))}};export{Re as default};
